<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>大富翁 | Letian</title><meta name="description" content="参照大富翁4设计的桌面大富翁游戏"><meta name="keywords" content="参照大富翁4设计的桌面大富翁游戏"><meta name="author" content="Letian"><meta name="copyright" content="Letian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://li-letian.github.io/dafuweng/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="大富翁"><meta property="og:url" content="https://li-letian.github.io/dafuweng/"><meta property="og:site_name" content="Letian"><meta property="og:description" content="参照大富翁4设计的桌面大富翁游戏"><meta property="og:image" content="https://pic2.zhimg.com/80/c0e6a1fb76775b05fc5acf8200ab3b8c_720w.jpg"><meta property="article:published_time" content="2020-05-08T07:49:44.000Z"><meta property="article:modified_time" content="2020-10-27T14:48:57.155Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '4.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime: '天',
  date_suffix: {"one_hour":"刚刚","hours":"小时前","day":"天前"},
  copyright: undefined,
  ClickShowText: {"text":"(°ー°〃),(＃°Д°),(。□。),(ノ_<),( ^ω^),(≧ω≦ ),( ΘωΘ),(●′ω`●),(๑￫ܫ￩),(oﾟωﾟo),Σ(°△°)︴,╮(╯▽╰)╭","fontSize":"15px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-center"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
      const now = new Date()
      const expiryDay = ttl * 86400000
      const item = {
        value: value,
        expiry: now.getTime() + expiryDay,
      }
      localStorage.setItem(key, JSON.stringify(item))
    },
  
  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-10-27 22:48:57'
}</script><noscript><style type="text/css">
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="\assets\css\APlayer.min.css" class="aplayer-style-marker">
<script src="\assets\js\APlayer.min.js" class="aplayer-script-marker"></script>
<script src="\assets\js\Meting.min.js" class="meting-script-marker"></script>
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatars.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于俺</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 大佬们</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 别学了</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 听听音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 康康电影</span></a></li></ul></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#仓库地址"><span class="toc-number">1.</span> <span class="toc-text">仓库地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#成员信息"><span class="toc-number">2.</span> <span class="toc-text">成员信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#游戏概述"><span class="toc-number">3.</span> <span class="toc-text">游戏概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#下载与操作说明"><span class="toc-number">4.</span> <span class="toc-text">下载与操作说明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#地图与小地图"><span class="toc-number">4.1.</span> <span class="toc-text">地图与小地图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本交互"><span class="toc-number">4.1.1.</span> <span class="toc-text">基本交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#地图选点"><span class="toc-number">4.1.2.</span> <span class="toc-text">地图选点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#面板"><span class="toc-number">4.2.</span> <span class="toc-text">面板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#菜单"><span class="toc-number">4.2.1.</span> <span class="toc-text">菜单</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#日历"><span class="toc-number">4.2.2.</span> <span class="toc-text">日历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#信息"><span class="toc-number">4.2.3.</span> <span class="toc-text">信息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#游戏元素"><span class="toc-number">5.</span> <span class="toc-text">游戏元素</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#角色"><span class="toc-number">5.1.</span> <span class="toc-text">角色</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#玩家角色"><span class="toc-number">5.1.1.</span> <span class="toc-text">玩家角色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AI"><span class="toc-number">5.1.2.</span> <span class="toc-text">AI</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#房产与特殊位置"><span class="toc-number">5.2.</span> <span class="toc-text">房产与特殊位置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#旅店房产"><span class="toc-number">5.2.1.</span> <span class="toc-text">旅店房产</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#商业项目房产"><span class="toc-number">5.2.2.</span> <span class="toc-text">商业项目房产</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#公园"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">公园</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#度假村"><span class="toc-number">5.2.2.2.</span> <span class="toc-text">度假村</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#购物广场"><span class="toc-number">5.2.2.3.</span> <span class="toc-text">购物广场</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#研发中心"><span class="toc-number">5.2.2.4.</span> <span class="toc-text">研发中心</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实体上市公司"><span class="toc-number">5.2.3.</span> <span class="toc-text">实体上市公司</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#保险公司"><span class="toc-number">5.2.3.1.</span> <span class="toc-text">保险公司</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#石油企业"><span class="toc-number">5.2.3.2.</span> <span class="toc-text">石油企业</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#科技公司"><span class="toc-number">5.2.3.3.</span> <span class="toc-text">科技公司</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#航空公司"><span class="toc-number">5.2.3.4.</span> <span class="toc-text">航空公司</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#医院"><span class="toc-number">5.2.4.</span> <span class="toc-text">医院</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#监狱"><span class="toc-number">5.2.5.</span> <span class="toc-text">监狱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#银行"><span class="toc-number">5.2.6.</span> <span class="toc-text">银行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#机会、命运地带"><span class="toc-number">5.2.7.</span> <span class="toc-text">机会、命运地带</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#神灵"><span class="toc-number">5.3.</span> <span class="toc-text">神灵</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#道具"><span class="toc-number">5.4.</span> <span class="toc-text">道具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#道具表列"><span class="toc-number">5.4.1.</span> <span class="toc-text">道具表列</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#股市"><span class="toc-number">5.5.</span> <span class="toc-text">股市</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#破产"><span class="toc-number">5.6.</span> <span class="toc-text">破产</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#胜利"><span class="toc-number">5.7.</span> <span class="toc-text">胜利</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开发文档"><span class="toc-number">6.</span> <span class="toc-text">开发文档</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#项目进度时间线"><span class="toc-number">6.1.</span> <span class="toc-text">项目进度时间线</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#第一周-学习知识"><span class="toc-number">6.1.1.</span> <span class="toc-text">第一周 学习知识</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#第二周-收集素材"><span class="toc-number">6.1.2.</span> <span class="toc-text">第二周 收集素材</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#第三周-肝肝肝！！！"><span class="toc-number">6.1.3.</span> <span class="toc-text">第三周 肝肝肝！！！</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#第四周-肝肝肝！！！-Debug"><span class="toc-number">6.1.4.</span> <span class="toc-text">第四周 肝肝肝！！！+Debug</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#第五周-肝肝肝！！！-Debug"><span class="toc-number">6.1.5.</span> <span class="toc-text">第五周 肝肝肝！！！+Debug</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#第六周-收尾-Debug"><span class="toc-number">6.1.6.</span> <span class="toc-text">第六周 收尾+Debug</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#整体架构设计与小组分工"><span class="toc-number">6.2.</span> <span class="toc-text">整体架构设计与小组分工</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#整体构架设计"><span class="toc-number">6.2.1.</span> <span class="toc-text">整体构架设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#小组分工"><span class="toc-number">6.2.2.</span> <span class="toc-text">小组分工</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#功能点与实现思路"><span class="toc-number">6.3.</span> <span class="toc-text">功能点与实现思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术难点与其解决方案"><span class="toc-number">6.4.</span> <span class="toc-text">技术难点与其解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-回合制"><span class="toc-number">6.4.1.</span> <span class="toc-text">1. 回合制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#技术难点"><span class="toc-number">6.4.1.1.</span> <span class="toc-text">技术难点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#解决方案"><span class="toc-number">6.4.1.2.</span> <span class="toc-text">解决方案</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-坐标"><span class="toc-number">6.4.2.</span> <span class="toc-text">2. 坐标</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#技术难点-1"><span class="toc-number">6.4.2.1.</span> <span class="toc-text">技术难点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#解决方案-1"><span class="toc-number">6.4.2.2.</span> <span class="toc-text">解决方案</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-内存管理"><span class="toc-number">6.4.3.</span> <span class="toc-text">3. 内存管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#难点"><span class="toc-number">6.4.3.1.</span> <span class="toc-text">难点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-字符编码"><span class="toc-number">6.4.4.</span> <span class="toc-text">4. 字符编码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#技术难点-2"><span class="toc-number">6.4.4.1.</span> <span class="toc-text">技术难点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#解决方案-2"><span class="toc-number">6.4.4.2.</span> <span class="toc-text">解决方案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#项目亮点"><span class="toc-number">6.5.</span> <span class="toc-text">项目亮点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#图集的使用"><span class="toc-number">6.5.1.</span> <span class="toc-text">图集的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常量与全局常用方法"><span class="toc-number">6.5.2.</span> <span class="toc-text">常量与全局常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#丰富的地图交互"><span class="toc-number">6.5.3.</span> <span class="toc-text">丰富的地图交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#大量道具、地产、事件的实现"><span class="toc-number">6.5.4.</span> <span class="toc-text">大量道具、地产、事件的实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用的c-特性"><span class="toc-number">6.6.</span> <span class="toc-text">使用的c++特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码规范"><span class="toc-number">6.7.</span> <span class="toc-text">代码规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#版本控制与团队协作"><span class="toc-number">6.8.</span> <span class="toc-text">版本控制与团队协作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#项目运行效果（不超过4张）"><span class="toc-number">6.9.</span> <span class="toc-text">项目运行效果（不超过4张）</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://pic2.zhimg.com/80/c0e6a1fb76775b05fc5acf8200ab3b8c_720w.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Letian</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于俺</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 大佬们</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 别学了</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 听听音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 康康电影</span></a></li></ul></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">大富翁</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-05-08T07:49:44.000Z" title="发表于 2020-05-08 15:49:44">2020-05-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-10-27T14:48:57.155Z" title="更新于 2020-10-27 22:48:57">2020-10-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%A1%8C%E9%9D%A2%E6%B8%B8%E6%88%8F/">桌面游戏</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>11分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container">
    <div id="aplayer-cKopmqoM" class="aplayer aplayer-tag-marker meting-tag-marker"
         data-id="2117024" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#49b1f5"
    ></div>
<h2 id="仓库地址"><a href="#仓库地址" class="headerlink" title="仓库地址"></a>仓库地址</h2><p><a href="https://github.com/li-letian/Monopoly" target="_blank" rel="noopener">https://github.com/li-letian/Monopoly</a></p>
<h2 id="成员信息"><a href="#成员信息" class="headerlink" title="成员信息"></a>成员信息</h2><p>GitHub：li-letian   is-not-matter   long200329</p>
<h2 id="游戏概述"><a href="#游戏概述" class="headerlink" title="游戏概述"></a>游戏概述</h2><p>本游戏是模仿大富翁4，实现的一个复(jian)刻(dan)版的大富翁。<br>本游戏主要由鼠标操作，目前只有Windows版本，后期可能会考虑移植Android等其他平台。点击monopoly.exe运行，按照提示操作即可。<br>目前版本为单机版，加入了AI角色，玩家在选择界面点击switch可切换玩家或者AI。后续可能会考虑联网功能以及存档功能。</p>
<h2 id="下载与操作说明"><a href="#下载与操作说明" class="headerlink" title="下载与操作说明"></a>下载与操作说明</h2><p><a href="https://github.com/li-letian/Monopoly/releases/tag/1,2,6" target="_blank" rel="noopener">下载本链接中Assets中的release.zip解压后运行monopoly.exe即可</a></p>
<h3 id="地图与小地图"><a href="#地图与小地图" class="headerlink" title="地图与小地图"></a>地图与小地图</h3><h4 id="基本交互"><a href="#基本交互" class="headerlink" title="基本交互"></a>基本交互</h4><p>地图为一个循环路径，路径上的位置存在不同的地产，会触发不同的效果。<br>在允许操作时，鼠标点击路径的格子，即可显示当前位置的地产信息。<br>在允许操作时，鼠标拖动非路径的格子，即可实现地图拖拽。<br>在允许操作时，鼠标点击小地图相应位置，即可实现视角跳转。</p>
<h4 id="地图选点"><a href="#地图选点" class="headerlink" title="地图选点"></a>地图选点</h4><p>道具的相关操作可能会涉及到地图选点，在相应文字提示下点击路径上的有效位置即可。地图选点时允许拖动地图，小地图视角跳转。<br>若地图选点时若点击到路径非道具指定的有效格子，则道具作废。</p>
<h3 id="面板"><a href="#面板" class="headerlink" title="面板"></a>面板</h3><h4 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h4><p>点击道具按钮可以打开道具面板，再次点击可关闭。<br>点击股市按钮可以打开股市面板，再次点击可关闭。<br>点击退出按钮可回到主菜单，慎点。<br>点击音乐按钮可以关闭背景音乐，再次点击可重新播放。</p>
<h4 id="日历"><a href="#日历" class="headerlink" title="日历"></a>日历</h4><p>回合制游戏，一回合为一天。</p>
<h4 id="信息"><a href="#信息" class="headerlink" title="信息"></a>信息</h4><p>实时更新当前人物的一些基本信息，头像，色块，名字。<br>现金可随时使用。<br>路过银行可进行存款取款，银行存款每天会得到一定的利息。<br>着陆银行可进行贷款还款，贷款同样每天需要背负利息。</p>
<h2 id="游戏元素"><a href="#游戏元素" class="headerlink" title="游戏元素"></a>游戏元素</h2><h3 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h3><h4 id="玩家角色"><a href="#玩家角色" class="headerlink" title="玩家角色"></a>玩家角色</h4><p>6个角色供选择<br>miku、nanxiaoniao、jingtian、luff、usagi、iori<br>其中miku为默认玩家角色，不可更改为AI控制，其余角色可以更改为AI控制</p>
<h4 id="AI"><a href="#AI" class="headerlink" title="AI"></a>AI</h4><p>除了不会使用道具以及购买股票，可以执行玩家角色的一切动作。</p>
<h3 id="房产与特殊位置"><a href="#房产与特殊位置" class="headerlink" title="房产与特殊位置"></a>房产与特殊位置</h3><h4 id="旅店房产"><a href="#旅店房产" class="headerlink" title="旅店房产"></a>旅店房产</h4><p>地图中最多的空地，首次着陆可以购买，归属者再次着陆可以升级。</p>
<p>其余玩家着陆后，需要根据本处旅馆归属者在这条街道上的房产总数和等级缴纳住宿费用。</p>
<h4 id="商业项目房产"><a href="#商业项目房产" class="headerlink" title="商业项目房产"></a>商业项目房产</h4><p>地图中相对较少的空地，首次可以购买，归属者再次着陆可以升级。</p>
<h5 id="公园"><a href="#公园" class="headerlink" title="公园"></a>公园</h5><p>无任何特殊效果。</p>
<h5 id="度假村"><a href="#度假村" class="headerlink" title="度假村"></a>度假村</h5><p>其余玩家着陆后需要休息一定时间并且缴纳住宿费用。</p>
<h5 id="购物广场"><a href="#购物广场" class="headerlink" title="购物广场"></a>购物广场</h5><p>其余玩家着陆后需要依据现有道具数量缴纳费用。</p>
<h5 id="研发中心"><a href="#研发中心" class="headerlink" title="研发中心"></a>研发中心</h5><p>归属者着陆时可以生产道具。</p>
<h4 id="实体上市公司"><a href="#实体上市公司" class="headerlink" title="实体上市公司"></a>实体上市公司</h4><p>地图中非常少的建筑物，可在股市中购买该公司的股票持股，持有股份最多的人为董事长。</p>
<h5 id="保险公司"><a href="#保险公司" class="headerlink" title="保险公司"></a>保险公司</h5><p>其余玩家着陆后需要向董事长缴纳保险费用，同时在投保天数内意外损失减半。</p>
<h5 id="石油企业"><a href="#石油企业" class="headerlink" title="石油企业"></a>石油企业</h5><p>玩家着陆后需要向董事长缴纳油费。</p>
<h5 id="科技公司"><a href="#科技公司" class="headerlink" title="科技公司"></a>科技公司</h5><p>董事长着陆后可随机获得研发出来的道具。</p>
<h5 id="航空公司"><a href="#航空公司" class="headerlink" title="航空公司"></a>航空公司</h5><p>其他玩家着陆后强制出国观光，并向该公司股权的持有者支付旅行费用。</p>
<h4 id="医院"><a href="#医院" class="headerlink" title="医院"></a>医院</h4><p>应对医疗事件，着陆可以给其它角色办理出院手续。</p>
<h4 id="监狱"><a href="#监狱" class="headerlink" title="监狱"></a>监狱</h4><p>应对刑事事件，着陆可以保释其它角色。</p>
<h4 id="银行"><a href="#银行" class="headerlink" title="银行"></a>银行</h4><p>着陆可进行借贷与贷款还款。</p>
<p>路过可进行存取钱。</p>
<h4 id="机会、命运地带"><a href="#机会、命运地带" class="headerlink" title="机会、命运地带"></a>机会、命运地带</h4><p>会触发各种随机事件，通常来说金色位置为机会，多触发有利事件，红色位置为命运，多触发不利事件。不完全包括：医疗事件、刑事事件、度假事件、经济事件、股市事件、房产事件、道具事件等等，详细效果会在游戏中弹窗说明。</p>
<h3 id="神灵"><a href="#神灵" class="headerlink" title="神灵"></a>神灵</h3><p>着陆会被附身一段时间，附身时间内会触发一些特殊效果：<br>衰神：投资失败。<br>穷神：罚钱加倍。<br>福神：投资加倍。<br>财神：免受罚钱。<br>天使：着陆加楼。<br>恶魔：着陆拆楼。<br>土地公：着陆占地。</p>
<h3 id="道具"><a href="#道具" class="headerlink" title="道具"></a>道具</h3><p>由研发中心，科技公司、机会事件得到，每人开局随机赠送10个道具。</p>
<h4 id="道具表列"><a href="#道具表列" class="headerlink" title="道具表列"></a>道具表列</h4><ol>
<li>远行鞋：行走步数期望增为原来2倍。</li>
<li>飞速鞋：行走步数期望增为原来3倍。</li>
<li>乌龟卡：有三次只走一步的机会，如走到自己并排几栋的房屋时可以逐个升级。</li>
<li>遥控骰子：决定10步内的行走点数。</li>
<li>机器娃娃：清除道路上10格内的一切神。</li>
<li>出院证明：可办理出院。</li>
<li>保释证明：可办理保释。</li>
<li>地雷：炸伤所有踩到它的人并使其住院。</li>
<li>飞弹：对全地图范围内的任何人或房屋发射，威力范围1格，房屋下降一级，范围内自己和对手进医院。</li>
<li>机器工人：加盖1级己方房屋或者拆除一层敌方房屋。</li>
<li>恶魔卡：整个路段的一排房子瞬间消失。</li>
<li>天使卡：整个路段的房屋都增盖一层。</li>
<li>传送机：将地图上的人物、神、物品瞬移到指定的地方，如果指定目标为自己则本回合不能继续移动。</li>
<li>怪兽卡：直接拆除所在的房屋到空地级别。</li>
<li>购地证明：走到对手的房屋时，可立即购买下来。</li>
<li>改建证明：变更商业用地，可以对自己的商业用地或他人的商业用地使用。</li>
<li>涨价卡：地价、房价的费用增值。</li>
<li>红卡：自己持有的股票立即上涨。</li>
<li>黑卡：除了自己持有的股票立即下跌。</li>
<li>共同小康：可将指定对手与自己的现金平分。</li>
<li>逍遥法外卡：当面临牢狱之灾时，可抵消徒刑一次。</li>
<li>嫁祸卡：面临牢狱之灾时，可嫁祸给你选择的对手。</li>
<li>请神符：立即请到步数离自己最近的神仙。</li>
<li>送神符：遇到坏神仙可马上送走，摆脱骚扰。</li>
<li>停留卡：指定自己或对手原地停走一次。</li>
<li>转向卡：使用后自己立即掉头向后转。</li>
<li>复仇卡：当对手对你进行陷害的时候，让害人者有同样下场。</li>
<li>陷害卡：使指定对手立刻入狱。</li>
<li>度假：使所有对手都去度假，丧失收租金的权利。</li>
</ol>
<h3 id="股市"><a href="#股市" class="headerlink" title="股市"></a>股市</h3><p>分为实体上市公司和控股公司。</p>
<p>任何角色在摇色子前都可参与。</p>
<p>可进行买进，抛出操作，提供一部分力所能及的可视化。</p>
<p>提供力所能及的股市模拟。</p>
<h3 id="破产"><a href="#破产" class="headerlink" title="破产"></a>破产</h3><p>现金为0即破产，直接被抬出游戏，房产被收缴。</p>
<h3 id="胜利"><a href="#胜利" class="headerlink" title="胜利"></a>胜利</h3><p>坚持到最后没有破产的人即为胜利者。</p>
<h2 id="开发文档"><a href="#开发文档" class="headerlink" title="开发文档"></a>开发文档</h2><h3 id="项目进度时间线"><a href="#项目进度时间线" class="headerlink" title="项目进度时间线"></a>项目进度时间线</h3><h4 id="第一周-学习知识"><a href="#第一周-学习知识" class="headerlink" title="第一周 学习知识"></a>第一周 <code>学习知识</code></h4><p>建立仓库<br>完成基本界面和类框架<br>学习cocos2dx相关知识</p>
<h4 id="第二周-收集素材"><a href="#第二周-收集素材" class="headerlink" title="第二周 收集素材"></a>第二周 <code>收集素材</code></h4><p>实现各种地图交互<br>完成素材收集和地图绘制<br>完成类框架设计<br>学习cocos2dx相关知识</p>
<h4 id="第三周-肝肝肝！！！"><a href="#第三周-肝肝肝！！！" class="headerlink" title="第三周 肝肝肝！！！"></a>第三周 <code>肝肝肝！！！</code></h4><p>实现回合制<br>实现部分触发事件<br>实现部分地产<br>学习cocos2dx相关知识</p>
<h4 id="第四周-肝肝肝！！！-Debug"><a href="#第四周-肝肝肝！！！-Debug" class="headerlink" title="第四周 肝肝肝！！！+Debug"></a>第四周 <code>肝肝肝！！！</code>+<code>Debug</code></h4><p>实现股票功能<br>实现信息栏功能<br>实现了大部分触发事件<br>实现了基本的游戏房产机制<br>完成地产和特殊地点触发功能</p>
<h4 id="第五周-肝肝肝！！！-Debug"><a href="#第五周-肝肝肝！！！-Debug" class="headerlink" title="第五周 肝肝肝！！！+Debug"></a>第五周 <code>肝肝肝！！！</code>+<code>Debug</code></h4><p>实现大量道具及卡片机制<br>实现神灵<br>完成了所有触发事件</p>
<h4 id="第六周-收尾-Debug"><a href="#第六周-收尾-Debug" class="headerlink" title="第六周 收尾+Debug"></a>第六周 <code>收尾</code>+<code>Debug</code></h4><p>实现AI功能<br>添加背景音乐及音效<br>撰写设计文档及游戏说明<br>撰写答辩幻灯片</p>
<h3 id="整体架构设计与小组分工"><a href="#整体架构设计与小组分工" class="headerlink" title="整体架构设计与小组分工"></a>整体架构设计与小组分工</h3><h4 id="整体构架设计"><a href="#整体构架设计" class="headerlink" title="整体构架设计"></a>整体构架设计</h4><p><img src="https://pic.downk.cc/item/5eef352d14195aa5945f92fd.png" alt=""></p>
<h4 id="小组分工"><a href="#小组分工" class="headerlink" title="小组分工"></a>小组分工</h4><p>li-letian <code>33.33%</code>：地图绘制 菜单 交互 地产内容 部分道具<br> is-not-matter <code>33.33%</code>：角色动画 回合制实现 事件 神灵 AI<br> long200329 <code>33.33%</code>：股市内容 道具部分内容 角色信息显示栏 音效与音乐</p>
<h3 id="功能点与实现思路"><a href="#功能点与实现思路" class="headerlink" title="功能点与实现思路"></a>功能点与实现思路</h3><ol>
<li>游戏开始界面、选择界面、设置界面、背景音乐、退出功能</li>
<li>游戏回合制<br>通过回调函数的不断嵌套调用实现</li>
<li>人物行走动画<br>使用<code>TexturePacker</code>将人物动作打包生成图集与<code>plist</code>文件<br>将图集全部加载到<code>SpriteFrameCache</code>中<br>创建动画时直接读取<code>SpriteFrameCache</code></li>
<li>人物沿路行走<br>在地图类中增加储存路径坐标的vector，人物沿着路径坐标的位置行走。 </li>
<li>地图拖拽、地图选点、视角跟随、小地图选点定位</li>
<li>AI玩家混合功能<br>为角色类添加成员变量标记该角色是否为AI。<br>在与玩家可能产生交互的部分判断该角色是否为AI并单独加上AI决策的代码。</li>
<li>旅店房产、街道机制</li>
<li>特殊房产：公园、度假村、购物中心、研发中心。</li>
<li>实体公司：航空公司、石油公司、保险公司、科技公司。</li>
<li>特定位置触发随机事件(命运与机会)</li>
<li>29种道具(包括卡片)<br>每个道具为道具基类的派生类，通过调用各个类的虚函数完成相应效果</li>
<li>股市功能<br>每只股票为一个类，通过调用成员函数改变信息，更新时刷新显示效果</li>
<li>角色信息显示栏<br>与角色等类相关，当状态信息改变时，刷新显示内容</li>
<li>房屋建造、升级功能</li>
<li>特殊房产（银行，医院）</li>
<li>神灵<br>在地图中储存神灵的位置，在人物类中增加成员变量判断人物是否以及被什么神灵附身。<br>被附身的人着陆后会先判断地产再发动神灵功能。</li>
</ol>
<h3 id="技术难点与其解决方案"><a href="#技术难点与其解决方案" class="headerlink" title="技术难点与其解决方案"></a>技术难点与其解决方案</h3><h4 id="1-回合制"><a href="#1-回合制" class="headerlink" title="1. 回合制"></a>1. 回合制</h4><h5 id="技术难点"><a href="#技术难点" class="headerlink" title="技术难点"></a>技术难点</h5><p>最初认为for循环轮流遍历所有人物即可实现回合制，后来发现不是这样。<br>for循环的执行是程序开始执行后瞬间完成的，无法与用户在任何时刻都有可能进行的操作产生交互。</p>
<h5 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h5><p>使用回调函数的不断嵌套调用。<br>调用层次为：<br>等待用户按下Go-&gt;按下Go-&gt;掷骰子-&gt;人物行走-&gt;判断神灵-&gt;判断地产-<br>-&gt;下一个人的回合开始，等待用户按下Go-&gt;按下Go-&gt;……<br>从而实现人物根据用户按下Go的时机轮流行走。</p>
<h4 id="2-坐标"><a href="#2-坐标" class="headerlink" title="2. 坐标"></a>2. 坐标</h4><h5 id="技术难点-1"><a href="#技术难点-1" class="headerlink" title="技术难点"></a>技术难点</h5><p>cocos2dx的坐标系统非常复杂，涉及到两套方向，不同参考系，不同量纲。<br>在程序设计的过程中，会涉及到大量的鼠标选点，地图定位，位置识别等等问题，就非常的让人头疼。</p>
<h5 id="解决方案-1"><a href="#解决方案-1" class="headerlink" title="解决方案"></a>解决方案</h5><p>通过对地图的封装，在地图类外的所有地方使用位置的数组索引作为位置编号，创建自然坐标系。在地图类里，经过绞尽脑汁的计算整出来一套坐标变换方法。</p>
<h4 id="3-内存管理"><a href="#3-内存管理" class="headerlink" title="3. 内存管理"></a>3. 内存管理</h4><h5 id="难点"><a href="#难点" class="headerlink" title="难点"></a>难点</h5><p>cocos2dx的类都使用单独实现的引用计数，为了风格统一，游戏设计中的类多继承自cocos2dx使用其自动内存管理，导致类内部无法定义静态变量。早期调试过程中也因为对cocos2dx内存管理理解不够透彻，导致了很多很严重的bug，变量经常会被释放掉。</p>
<h4 id="4-字符编码"><a href="#4-字符编码" class="headerlink" title="4. 字符编码"></a>4. 字符编码</h4><h5 id="技术难点-2"><a href="#技术难点-2" class="headerlink" title="技术难点"></a>技术难点</h5><p>不知道为什么VS使用的MSVC编译器对UTF8编码格式的源代码支持不够完善，整个项目的源代码文件编码格式最后使用了GB2312，而cocos2dx默认解码导致输出中文会乱码。</p>
<h5 id="解决方案-2"><a href="#解决方案-2" class="headerlink" title="解决方案"></a>解决方案</h5><p>无奈之下只能使用windows头文件中的相关函数硬性转码，但是这就带来了跨平台移植的困难。Android平台使用的Clang编译器没有windows头文件，而且对GB2312的支持不够完善。考虑以后可以使用plist配置文件的字符串映射解决中文问题。</p>
<h3 id="项目亮点"><a href="#项目亮点" class="headerlink" title="项目亮点"></a>项目亮点</h3><h4 id="图集的使用"><a href="#图集的使用" class="headerlink" title="图集的使用"></a>图集的使用</h4><p>使用TexturePacker将人物的4向行走图片打包生成图集与.plist文件<br>并将图集全部加载到精灵帧缓存中<br>创建动画时读取精灵帧缓存即可，提高了性能</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">character_frame_cache_ = SpriteFrameCache::getInstance();</span><br><span class="line">character_frame_cache_-&gt;addSpriteFramesWithFile</span><br><span class="line">(StringUtils::format(<span class="string">"%s.plist"</span>, name_.c_str()), </span><br><span class="line"> StringUtils::format(<span class="string">"%s.png"</span>, name_.c_str()));</span><br></pre></td></tr></table></figure>
<h4 id="常量与全局常用方法"><a href="#常量与全局常用方法" class="headerlink" title="常量与全局常用方法"></a>常量与全局常用方法</h4><p>将项目中的常量定义于CommonConstant.h中，方便增删调整。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> hotel_land_value = <span class="number">300</span>;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> hotel_sell_value[<span class="number">5</span>] = &#123; <span class="number">500</span>,<span class="number">1000</span>,<span class="number">2000</span>,<span class="number">4000</span>,<span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> hotel_rent_value[<span class="number">5</span>] = &#123; <span class="number">100</span>,<span class="number">400</span>,<span class="number">1200</span>,<span class="number">3000</span>,<span class="number">7000</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>将项目中的一些常见代码段包装成函数声明于CommonMethod.h中。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SendMsg</span><span class="params">(<span class="keyword">int</span> msg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">auto</span> dispatcher = Director::getInstance()-&gt;getEventDispatcher();</span><br><span class="line">	<span class="keyword">char</span>* buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">sprintf</span>(buf, <span class="string">"%d"</span>, msg);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">log</span>(<span class="string">"message sending : %s"</span>, buf);</span><br><span class="line"></span><br><span class="line">	EventCustom event = EventCustom(<span class="string">"monopoly_msg"</span>);</span><br><span class="line">	event.setUserData(buf);</span><br><span class="line">	dispatcher-&gt;dispatchEvent(&amp;event);</span><br><span class="line">	CC_SAFE_DELETE_ARRAY(buf);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="丰富的地图交互"><a href="#丰富的地图交互" class="headerlink" title="丰富的地图交互"></a>丰富的地图交互</h4><p>实现了小地图定位、视角跟随、位置信息显示、地图拖拽、地图选点等交互，提高了游戏可玩性。</p>
<h4 id="大量道具、地产、事件的实现"><a href="#大量道具、地产、事件的实现" class="headerlink" title="大量道具、地产、事件的实现"></a>大量道具、地产、事件的实现</h4><p>本项目共实现近30款道具，10余种地产，大量相关的事件，游戏内容非常丰富，机制复杂，可玩性极高。</p>
<h3 id="使用的c-特性"><a href="#使用的c-特性" class="headerlink" title="使用的c++特性"></a>使用的c++特性</h3><p>包括单不限于：<br>Lambda表达式<br>STL容器<br>类和多态<br>函数重载<br>类型判断<br>范围for语句<br>类内初始值<br>常量表达式constexpr</p>
<h3 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h3><p>遵循C++风格类型转换<br>贯彻落实Google风格的命名<br>尽量使用Cocos2dx风格的类设计与内存管理</p>
<h3 id="版本控制与团队协作"><a href="#版本控制与团队协作" class="headerlink" title="版本控制与团队协作"></a>版本控制与团队协作</h3><p>全程使用GitHub和Git进行版本控制<br>尽量做到了符合GoogleAngularJS规范的commit记录</p>
<h3 id="项目运行效果（不超过4张）"><a href="#项目运行效果（不超过4张）" class="headerlink" title="项目运行效果（不超过4张）"></a>项目运行效果（不超过4张）</h3><p><img src="https://pic.downk.cc/item/5eef065f14195aa594321bc6.jpg" alt=""></p>
<p><img src="https://pic.downk.cc/item/5eef05ed14195aa594319c6d.jpg" alt=""></p>
<p><img src="https://pic.downk.cc/item/5eef060d14195aa59431c123.jpg" alt=""></p>
<p><img src="https://pic.downk.cc/item/5eef062514195aa59431ddaa.jpg" alt=""></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Letian</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://li-letian.github.io/dafuweng/">https://li-letian.github.io/dafuweng/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://li-letian.github.io" target="_blank">Letian</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/c-c/">c/c++</a><a class="post-meta__tags" href="/tags/game/">game</a><a class="post-meta__tags" href="/tags/cocos2dx/">cocos2dx</a></div><div class="post_share"><div class="social-share" data-image="https://pic2.zhimg.com/80/c0e6a1fb76775b05fc5acf8200ab3b8c_720w.jpg" data-sites="qq,wechat,weibo,facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="Wechat"/></a><div class="post-qr-code-desc">Wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="Alipay"/></a><div class="post-qr-code-desc">Alipay</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/cocos2dxxuexibiji/"><img class="prev-cover" src="https://pic.downk.cc/item/5f9c01e91cd1bbb86b4a8b3c.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Cocos2dx学习笔记</div></div></a></div><div class="next-post pull-right"><a href="/xiewendangchangyongyufa/"><img class="next-cover" src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1613194509,3683268681&amp;fm=26&amp;gp=0.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">写文档常用语法</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/cocos2dxxuexibiji/" title="Cocos2dx学习笔记"><img class="cover" src="https://pic.downk.cc/item/5f9c01e91cd1bbb86b4a8b3c.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-08</div><div class="title">Cocos2dx学习笔记</div></div></a></div><div><a href="/guojitiaoqiai/" title="国际跳棋AI"><img class="cover" src="https://cdn1.iconfinder.com/data/icons/games-and-toys/512/Toys_Games-23-512.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-02-24</div><div class="title">国际跳棋AI</div></div></a></div><div><a href="/cxuexibiji/" title="C++学习笔记"><img class="cover" src="https://www.geeksforgeeks.org/wp-content/uploads/titleShadow-768x256.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-02-28</div><div class="title">C++学习笔记</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></article></main><footer id="footer" style="background-image: url(https://pic2.zhimg.com/80/c0e6a1fb76775b05fc5acf8200ab3b8c_720w.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Letian</div><div class="framework-info"><span>框架 </span><a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener">Butterfly</a></div><div class="footer_custom_text">康完辣(`･ω･´)别走啊再康康呗</div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    $.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js', function () {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk({
      clientID: '4ad77e39e9c02d83634d',
      clientSecret: '7c89673cbbe890335e5e1b97afdeb90ee2c854b6',
      repo: 'li-letian.github.io',
      owner: 'li-letian',
      admin: ['li-letian'],
      id: '503ebb71345fe99935ccd7b3fc281851',
      language: 'zh-CN',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    })
    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    $.getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js', initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/gh/yremp/yremp-js@1.5/sakura.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script src="/js/third-party/ClickShowText.js" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script></div></body></html>